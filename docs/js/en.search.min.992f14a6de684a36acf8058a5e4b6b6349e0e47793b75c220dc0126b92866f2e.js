"use strict";(function(){const t=document.querySelector("#gdoc-search-input"),e=document.querySelector("#gdoc-search-results");let n=!1;t&&(t.addEventListener("focus",s),t.addEventListener("keyup",a));function s(){t.removeEventListener("focus",s),i("/js/groupBy-6a2fe26b6f.min.js"),i("/js/flexsearch-ad47a5e1ee.min.js",function(){const e={},t="/en.search-data.min.json";e.doc={id:"id",field:["title","content"],store:["title","href","parent"]};const n=FlexSearch.create(e);window.geekdocSearchIndex=n,c(t,function(e){e.forEach(e=>{window.geekdocSearchIndex.add(e)})})})}function a(){for(;e.firstChild;)e.removeChild(e.firstChild);if(!t.value)return e.classList.remove("has-hits");let s=window.geekdocSearchIndex.search(t.value,10);if(s.length<1)return e.classList.remove("has-hits");e.classList.add("has-hits"),n===!0&&(s=groupBy(s,e=>e.parent));const i=[];if(n===!0)for(const t in s){const e=document.createElement("li"),n=e.appendChild(document.createElement("span")),a=e.appendChild(document.createElement("ul"));n.textContent=t,o(s[t],a),i.push(e)}else{const e=document.createElement("li"),t=e.appendChild(document.createElement("span")),n=e.appendChild(document.createElement("ul"));t.textContent="Results",o(s,n),i.push(e)}i.forEach(t=>{e.appendChild(t)})}function o(e,t){const n=[];for(const i of e){const s=document.createElement("li"),a=s.appendChild(document.createElement("span")),o=a.appendChild(document.createElement("a"));if(a.classList.add("flex"),o.href=i.href,o.textContent=i.title,o.classList.add("gdoc-search__entry"),t){t.appendChild(s);continue}n.push(s)}return n}function r(e){if(!e.ok)throw Error(e.statusText);return e}function c(e,t){fetch(e).then(r).then(e=>e.json()).then(e=>t(e)).catch(function(e){console.log(e)})}function i(e,t){let n=document.createElement("script");n.defer=!0,n.async=!1,n.src=e,n.onload=t,document.body.appendChild(n)}})()